(function(d){function k(){window.location.hash==b.permalink_hash_lat&&f.C2L.call(this);window.location.hash==b.permalink_hash_cyr&&f.L2C.call(this)}function t(){if("onhashchange"in window)window.addEventListener?window.addEventListener("hashchange",k,!1):window.attachEvent&&window.attachEvent("onhashchange",k);else{var a=location.href;setInterval(function(){var c=location.href;a!==c&&(a=c,k())},100)}k();return window.location.hash==b.permalink_hash_lat||window.location.hash==b.permalink_hash_cyr?
!0:!1}function l(a){var c="; ";b.cookie_duration&&(c=new Date,c.setDate(c.getDate()+b.cookie_duration),c="; expires="+c.toGMTString()+"; ");document.cookie="CyrLatConverterSelected="+a+c+"path=/"}function u(){for(var a=document.cookie.split(";"),c=0;c<a.length;c++){for(var b=a[c];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf("CyrLatConverterSelected="))return b.substring(24,b.length)}return null}function s(a){var c="on"==b.ignore_list_include_unicode?"[^0-9a-zA-Z\u0400-\u04ff_\u010d\u010c\u0107\u0106\u017e\u017d\u0161\u0160\u0111\u0110]+":
"[^0-9a-zA-Z_\u010d\u010c\u0107\u0106\u017e\u017d\u0161\u0160\u0111\u0110]+";if(3=="test string".split(/([^a-z])/).length)return a.split(RegExp("("+c+")","i"));regex=RegExp(c,"gi");var c=0,e=a.split(regex);a=a.match(regex);var d=[];if(0==e.length)return a;if(null==a)return e;if(a.length==e.length+1){for(c=0;c<e.length;c++)d.push(a[c]),d.push(e[c]);d.push(a[c])}else if(a.length==e.length)if(-1<e[0].indexOf(a[0]))for(c=0;c<a.length;c++)d.push(a[c]),d.push(e[c]);else for(c=0;c<a.length;c++)d.push(e[c]),
d.push(a[c]);else{d.push(e[0]);for(c=0;c<a.length;c++)d.push(a[c]),d.push(e[c+1])}return d}function n(b){var c,e,m,g,f=s(b);d.each(f,function(b,a){"undefined"!=typeof CyrLatIgnoreList&&a.toString().toLowerCase()in CyrLatIgnoreList?f[b]=""==CyrLatIgnoreList[a.toString().toLowerCase()]?a:CyrLatIgnoreList[a.toString().toLowerCase()]:(g=!0,"undefined"!=typeof CyrLatIgnore_doubleletters&&a.toString().toLowerCase()in CyrLatIgnore_doubleletters&&(g=!1),"undefined"!=typeof CyrLatIgnore_doubleletters_base&&
d.each(CyrLatIgnore_doubleletters_base,function(c){if(-1<a.toString().toLowerCase().indexOf(c))return g=!1}),c=a.split(""),d.each(c,function(b,a){e=!1;if(p[a]&&g&&(m=c[b+1])&&p[a][m])c[b]=p[a][m],c[b+1]="",e=!0;e||(c[b]=q[a]&&""!=q[a]?q[a]:a)}),f[b]=c.join(""))});return f.join("")}function r(a){var c;if("undefined"!=typeof CyrLatIgnore){var b=s(a);d.each(b,function(a,g){g.toString().toLowerCase()in CyrLatIgnore?b[a]=""==CyrLatIgnore[g.toString().toLowerCase()]?g:CyrLatIgnore[g.toString().toLowerCase()]:
(c=g.split(""),d.each(c,function(a,b){c[a]=h[b]&&""!=h[b]?h[b]:b}),b[a]=c.join(""))});return b.join("")}c=a.split("");d.each(c,function(b,a){c[b]=h[a]&&""!=h[a]?h[a]:a});return c.join("")}var b={cookie_duration:7,parent_class_ignore:"",permalink_hash_lat:"#lat",permalink_hash_cyr:"#cyr",permalink_hash:"off",ignore_list_include_unicode:"on",benchmark:"off",benchmark_eval:"console.log('Execution time: %s%')",button_cyr:"",button_lat:"",button_default:""},q={a:"\u0430",b:"\u0431",c:"\u0446",d:"\u0434",
e:"\u0435",f:"\u0444",g:"\u0433",h:"\u0445",i:"\u0438",j:"\u0458",k:"\u043a",l:"\u043b",m:"\u043c",n:"\u043d",o:"\u043e",p:"\u043f",q:"",r:"\u0440",s:"\u0441",t:"\u0442",u:"\u0443",v:"\u0432",w:"",x:"",y:"",z:"\u0437",A:"\u0410",B:"\u0411",C:"\u0426",D:"\u0414",E:"\u0415",F:"\u0424",G:"\u0413",H:"\u0425",I:"\u0418",J:"\u0408",K:"\u041a",L:"\u041b",M:"\u041c",N:"\u041d",O:"\u041e",P:"\u041f",Q:"",R:"\u0420",S:"\u0421",T:"\u0422",U:"\u0423",V:"\u0412",W:"",X:"",Y:"",Z:"\u0417","\u010d":"\u0447","\u0107":"\u045b",
"\u0111":"\u0452","\u017e":"\u0436","\u0161":"\u0448","\u010c":"\u0427","\u0106":"\u040b","\u0110":"\u0402","\u017d":"\u0416","\u0160":"\u0428"},h={"\u0430":"a","\u0431":"b","\u0446":"c","\u0434":"d","\u0435":"e","\u0444":"f","\u0433":"g","\u0445":"h","\u0438":"i","\u0458":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0432":"v","\u0437":"z","\u0410":"A","\u0411":"B","\u0426":"C","\u0414":"D","\u0415":"E","\u0424":"F",
"\u0413":"G","\u0425":"H","\u0418":"I","\u0408":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0412":"V","\u0417":"Z","\u0447":"\u010d","\u045b":"\u0107","\u0452":"\u0111","\u0436":"\u017e","\u0448":"\u0161","\u0459":"lj","\u045a":"nj","\u0452":"\u0111","\u045f":"dz","\u0427":"\u010c","\u040b":"\u0106","\u0402":"\u0110","\u0416":"\u017d","\u0428":"\u0160","\u0409":"Lj","\u040a":"Nj","\u0402":"\u0110","\u040f":"D\u017e"},
p={l:{j:"\u0459"},n:{j:"\u045a"},d:{j:"\u0452",z:"\u045f","\u017e":"\u045f"},L:{j:"\u0409",J:"\u0409"},N:{j:"\u040a",J:"\u040a"},D:{j:"\u0402",J:"\u0402",z:"\u040f",Z:"\u040f","\u017e":"\u040f","\u017d":"\u040f"}},j=!1,f={init:function(a){a&&d.extend(b,a);""!=b.button_cyr&&("#"!=b.button_cyr.charAt(0)&&(b.button_cyr="#"+b.button_cyr),d(b.button_cyr).click(function(){d.CyrLatConverter("L2C")}));""!=b.button_lat&&("#"!=b.button_lat.charAt(0)&&(b.button_lat="#"+b.button_lat),d(b.button_lat).click(function(){d.CyrLatConverter("C2L")}));
""!=b.button_default&&("#"!=b.button_default.charAt(0)&&(b.button_default="#"+b.button_default),d(b.button_default).click(function(){d.CyrLatConverter("default")}));if("on"==b.benchmark.toString().toLowerCase()){var c=(new Date).getTime();j=!0}a=!1;"on"==b.permalink_hash.toLowerCase()&&(a=t());var e="";0<b.cookie_duration&&(e=u());!1==a&&("L2C"==e||"C2L"==e)&&f[e].call(this);"on"==b.benchmark.toString().toLowerCase()&&(eval(b.benchmark_eval.replace("%s%",(new Date).getTime()-c+"ms")),j=!1);return!0},
L2C:function(){if("on"==b.benchmark.toString().toLowerCase()&&!j)var a=(new Date).getTime();d(".CyrLatConvert").each(function(){d(this).wrapInner('<span id="CyrLatWrap" />');d(this).find(":not(iframe,script,style,pre,code,.CyrLatIgnore)").contents().filter(function(){var a;if(a=3==this.nodeType){var e=b.parent_class_ignore.split(",");d.each(e,function(a,b){e[a]=d.trim(b)});a:{for(a=this;a.parentNode;){if(a.className&&0<=jQuery.inArray(a.className,e)){a=!0;break a}a=a.parentNode}a=!1}a=!a}return a?
("undefined"!=typeof this.textContent?this.textContent=n(this.textContent):"undefined"!=typeof this.innerText?this.innerText=n(this.innerText):"undefined"!=typeof this.nodeValue&&(this.nodeValue=n(this.nodeValue)),!0):!1})});l("L2C");"on"==b.benchmark.toString().toLowerCase()&&!j&&eval(b.benchmark_eval.replace("%s%",(new Date).getTime()-a+"ms"));"undefined"!=b.onL2C&&b.onL2C.call();return!0},C2L:function(){if("on"==b.benchmark.toString().toLowerCase()&&!j)var a=(new Date).getTime();d(".CyrLatConvert").each(function(){d(this).wrapInner('<span id="CyrLatWrap" />');
d(this).find(":not(iframe,script,style,pre,code,.CyrLatIgnore)").contents().filter(function(){return 3==this.nodeType?("undefined"!=typeof this.textContent?this.textContent=r(this.textContent):"undefined"!=typeof this.innerText?this.innerText=r(this.innerText):"undefined"!=typeof this.nodeValue&&(this.nodeValue=r(this.nodeValue)),!0):!1})});l("C2L");"on"==b.benchmark.toString().toLowerCase()&&!j&&eval(b.benchmark_eval.replace("%s%",(new Date).getTime()-a+"ms"));"undefined"!=b.onC2L&&b.onC2L.call();
return!0}};d.CyrLatConverter=function(a){"undefined"===typeof a||"object"===typeof a||!a?f.init.apply(this,arguments):"default"==a.toString().toLowerCase()?(l("default"),b.permalink_hash="on",window.location.hash="",location.reload(!0)):f[a]?"on"==b.permalink_hash.toLowerCase()?"L2C"==a.toString().toUpperCase()?window.location.hash=b.permalink_hash_cyr:"C2L"==a.toString().toUpperCase()&&(window.location.hash=b.permalink_hash_lat):f[a].call(this):d.error("Unknown call to "+a);return!1}})(jQuery);